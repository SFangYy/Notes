{
  "components": [
    {
      "id": "7f7841c8-5ccb-4c80-a0bc-660945aef74d",
      "type": "multi",
      "titleAlign": "center",
      "tabTitle": "",
      "maxWidthRatio": -1,
      "showBorder": false,
      "showTitle": true,
      "showShadow": false,
      "createAt": "2025-08-26T06:41:29.281Z",
      "updateAt": "2025-08-26T06:41:29.281Z",
      "components": [
        {
          "componentId": "ca8859c1-2227-424b-b739-7cf196afd230"
        }
      ],
      "layoutType": "column",
      "locked": false,
      "layoutOptions": {}
    },
    {
      "id": "ca8859c1-2227-424b-b739-7cf196afd230",
      "type": "custom",
      "titleAlign": "center",
      "tabTitle": "custom",
      "maxWidthRatio": -1,
      "showBorder": false,
      "showTitle": true,
      "showShadow": false,
      "createAt": "2025-08-26T06:41:31.871Z",
      "updateAt": "2025-10-26T07:59:40.243Z",
      "viewCode": "function App() {\n  const { getData } = useDataStorage();\n  const app = useObsidianApp();\n\n  const data = getData() || {};\n  const settings = data.settings || {};\n  const {\n    username = \"Username\",\n    description = \"A short description\",\n    obsidianStartDate = \"\",\n    avatarType = \"url\",\n    avatarUrl = \"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=300\",\n    avatarFile = \"\",\n    showRadarChart = true,\n    radarChartMaxValues = {\n      mdFiles: 1000,\n      attachments: 500,\n      tags: 100,\n      properties: 50,\n      folders: 100,\n      linkDensity: 10,\n      activity: 50, // æœ€è¿‘7å¤©ä¿®æ”¹çš„æ–‡ä»¶æ•°\n      taskCompletion: 100 // ä»»åŠ¡å®Œæˆç‡ç™¾åˆ†æ¯”\n    },\n    updateInterval = 30000, // 30 seconds\n  } = settings;\n\n  // Vault statistics state\n  const [vaultStats, setVaultStats] = useState(null);\n\n  // Get Vault statistics\n  const getVaultStatistics = useCallback(() => {\n    const allFiles = app.vault.getAllLoadedFiles();\n    const mdFiles = allFiles.filter(f => f.extension === 'md');\n    const attachments = allFiles.filter(f => f.extension !== 'md' && !(f instanceof Obsidian.TFolder));\n    const folders = allFiles.filter(f => f instanceof Obsidian.TFolder);\n    \n    // Get tags count\n    const tagsCount = Object.keys(app.metadataCache.getTags()).length;\n    \n    // Get properties count\n    const propertiesCount = Object.keys(app.metadataCache.getAllPropertyInfos()).length;\n    \n    // Calculate link density (total links / md files)\n    let totalLinks = 0;\n    mdFiles.forEach(file => {\n      const cache = app.metadataCache.getFileCache(file);\n      if (cache && cache.links) {\n        totalLinks += cache.links.length;\n      }\n    });\n    const linkDensity = mdFiles.length > 0 ? totalLinks / mdFiles.length : 0;\n\n    // Calculate activity (files modified in last 7 days)\n    const sevenDaysAgo = Date.now() - (7 * 24 * 60 * 60 * 1000);\n    const recentlyModified = mdFiles.filter(file => file.stat.mtime > sevenDaysAgo);\n    const activity = recentlyModified.length;\n\n    // Calculate task completion rate\n    const tasks = Tasks.getTasks() || [];\n    const completedTasks = tasks.filter(task => task.status === 'x' || task.status === 'X');\n    const taskCompletion = tasks.length > 0 ? Math.round((completedTasks.length / tasks.length) * 100) : 0;\n\n    const stats = {\n      mdFiles: mdFiles.length,\n      attachments: attachments.length,\n      tags: tagsCount,\n      properties: propertiesCount,\n      folders: folders.length,\n      linkDensity: Math.round(linkDensity * 10) / 10, // Round to 1 decimal place\n      activity: activity,\n      taskCompletion: taskCompletion\n    };\n\n    console.log('vault stats', stats);\n    setVaultStats(stats);\n    return stats;\n  }, [app]);\n\n  // Update statistics periodically\n  useEffect(() => {\n    getVaultStatistics();\n  }, [getVaultStatistics]);\n\n  useInterval(() => {\n    getVaultStatistics();\n  }, updateInterval);\n\n  // Generate radar chart data\n  const radarChartOption = useMemo(() => {\n    if (!vaultStats) return null;\n\n    // Get computed styles for Morandi colors\n    const rootStyles = getComputedStyle(document.documentElement);\n    const isDarkTheme = document.body.classList.contains('theme-dark');\n    \n    // Morandi color palette - adapt to theme\n    const colors = isDarkTheme ? {\n      green: '#6B7A68',\n      lightGreen: '#7A8977', \n      paleGreen: '#8B9A88',\n      axis: '#5A6357',\n      split: '#4A5147',\n      label: '#9AA997'\n    } : {\n      green: '#8B9A88',\n      lightGreen: '#A4B3AA',\n      paleGreen: '#B8C5B8', \n      axis: '#D4DDD4',\n      split: '#E8EDE8',\n      label: '#7A8471'\n    };\n\n    const indicators = [\n      { \n        name: `ç¬”è®°æ–‡ä»¶ (${vaultStats.mdFiles})`, \n        max: radarChartMaxValues.mdFiles \n      },\n      { \n        name: `é™„ä»¶ (${vaultStats.attachments})`, \n        max: radarChartMaxValues.attachments \n      },\n      { \n        name: `æ ‡ç­¾ (${vaultStats.tags})`, \n        max: radarChartMaxValues.tags \n      },\n      { \n        name: `å±æ€§ (${vaultStats.properties})`, \n        max: radarChartMaxValues.properties \n      },\n      { \n        name: `æ–‡ä»¶å¤¹ (${vaultStats.folders})`, \n        max: radarChartMaxValues.folders \n      },\n      { \n        name: `é“¾æ¥å¯†åº¦ (${vaultStats.linkDensity})`, \n        max: radarChartMaxValues.linkDensity \n      },\n      { \n        name: `æ´»è·ƒåº¦ (${vaultStats.activity})`, \n        max: radarChartMaxValues.activity \n      },\n      { \n        name: `ä»»åŠ¡å®Œæˆç‡ (${vaultStats.taskCompletion}%)`, \n        max: radarChartMaxValues.taskCompletion \n      }\n    ];\n\n    // Clamp data to max values to prevent overflow\n    const data = [\n      Math.min(vaultStats.mdFiles, radarChartMaxValues.mdFiles),\n      Math.min(vaultStats.attachments, radarChartMaxValues.attachments),\n      Math.min(vaultStats.tags, radarChartMaxValues.tags),\n      Math.min(vaultStats.properties, radarChartMaxValues.properties),\n      Math.min(vaultStats.folders, radarChartMaxValues.folders),\n      Math.min(vaultStats.linkDensity, radarChartMaxValues.linkDensity),\n      Math.min(vaultStats.activity, radarChartMaxValues.activity),\n      Math.min(vaultStats.taskCompletion, radarChartMaxValues.taskCompletion)\n    ];\n\n    return {\n      radar: {\n        indicator: indicators,\n        radius: '60%',\n        center: ['50%', '52%'],\n        axisName: {\n          color: colors.label,\n          fontSize: 10,\n          fontWeight: 600,\n          formatter: function(name) {\n            // For individual dimension overflow check\n            const isCurrentOverflow = \n              (name.includes('ç¬”è®°æ–‡ä»¶') && vaultStats.mdFiles > radarChartMaxValues.mdFiles) ||\n              (name.includes('é™„ä»¶') && vaultStats.attachments > radarChartMaxValues.attachments) ||\n              (name.includes('æ ‡ç­¾') && vaultStats.tags > radarChartMaxValues.tags) ||\n              (name.includes('å±æ€§') && vaultStats.properties > radarChartMaxValues.properties) ||\n              (name.includes('æ–‡ä»¶å¤¹') && vaultStats.folders > radarChartMaxValues.folders) ||\n              (name.includes('é“¾æ¥å¯†åº¦') && vaultStats.linkDensity > radarChartMaxValues.linkDensity);\n              \n            return isCurrentOverflow ? `âš ï¸ ${name}` : name;\n          }\n        },\n        axisLine: {\n          lineStyle: {\n            color: colors.axis\n          }\n        },\n        splitLine: {\n          lineStyle: {\n            color: colors.split\n          }\n        },\n        splitArea: {\n          show: false\n        }\n      },\n      series: [{\n        type: 'radar',\n        symbol: 'circle',\n        symbolSize: 6,\n        data: [{\n          value: data,\n          itemStyle: {\n            color: colors.green\n          },\n          lineStyle: {\n            color: colors.lightGreen,\n            width: 2.5\n          },\n          areaStyle: {\n            color: colors.paleGreen,\n            opacity: 0.3\n          }\n        }]\n      }],\n      tooltip: {\n        trigger: 'item',\n        confine: true,\n        formatter: (params) => {\n          const names = ['ç¬”è®°æ–‡ä»¶', 'é™„ä»¶', 'æ ‡ç­¾', 'å±æ€§', 'æ–‡ä»¶å¤¹', 'é“¾æ¥å¯†åº¦', 'æ´»è·ƒåº¦', 'ä»»åŠ¡å®Œæˆç‡'];\n          const actualValues = [\n            vaultStats.mdFiles,\n            vaultStats.attachments,\n            vaultStats.tags,\n            vaultStats.properties,\n            vaultStats.folders,\n            vaultStats.linkDensity,\n            vaultStats.activity,\n            vaultStats.taskCompletion\n          ];\n          const maxValues = [\n            radarChartMaxValues.mdFiles,\n            radarChartMaxValues.attachments,\n            radarChartMaxValues.tags,\n            radarChartMaxValues.properties,\n            radarChartMaxValues.folders,\n            radarChartMaxValues.linkDensity,\n            radarChartMaxValues.activity,\n            radarChartMaxValues.taskCompletion\n          ];\n          \n          return names.map((name, index) => {\n            const actual = actualValues[index];\n            const max = maxValues[index];\n            const displayed = params.value[index];\n            const isOverflow = actual > max;\n            \n            return isOverflow \n              ? `${name}: ${actual} (æœ€å¤§å€¼: ${max}) âš ï¸`\n              : `${name}: ${displayed}`;\n          }).join('<br/>');\n        }\n      }\n    };\n  }, [vaultStats, radarChartMaxValues]);\n\n  const getAvatarSrc = () => {\n    if (avatarType === 'file' && avatarFile) {\n      const file = app.vault.getAbstractFileByPath(avatarFile);\n      if (file && file instanceof Obsidian.TFile) {\n        return app.vault.getResourcePath(file);\n      }\n    }\n    return avatarUrl;\n  };\n\n  const renderObsidianStats = () => {\n    if (!obsidianStartDate) return null;\n\n    const startDate = new Date(obsidianStartDate);\n    const today = new Date();\n    const days = Math.floor((today.getTime() - startDate.getTime()) / (1000 * 60 * 60 * 24));\n    const notesCount = app.vault.getMarkdownFiles().length;\n    const tagsCount = Object.keys(app.metadataCache.getTags()).length;\n\n    if (days < 0) return null;\n\n    return (\n      <p className=\"user-profile--stats\">\n        è¿™æ˜¯ä½¿ç”¨ Obsidian çš„ç¬¬ <span className=\"user-profile--stats-highlight\">{days}</span> å¤©ï¼Œ\n        å…±åˆ›å»ºäº† <span className=\"user-profile--stats-highlight\">{notesCount}</span> ä¸ªç¬”è®°ï¼Œ\n        <span className=\"user-profile--stats-highlight\">{tagsCount}</span> ä¸ªæ ‡ç­¾\n      </p>\n    );\n  };\n\n  return (\n    <div className=\"user-profile--container\">\n      <div className=\"user-profile--header\">\n        <img src={getAvatarSrc()} alt=\"User Avatar\" className=\"user-profile--avatar\" />\n        <div className=\"user-profile--info\">\n          <h2 className=\"user-profile--username\">{username}</h2>\n          <p className=\"user-profile--description\">{description}</p>\n        </div>\n      </div>\n      \n      <div className=\"user-profile--stats-section\">\n        {renderObsidianStats()}\n      </div>\n      \n      {showRadarChart && vaultStats && (\n        <div className=\"user-profile--radar-section\">\n          <div className=\"user-profile--radar-container\">\n            <EchartsView\n              option={radarChartOption}\n              className=\"user-profile--radar-chart\"\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n",
      "settingsCode": "function App() {\n  const { getData, saveData } = useDataStorage();\n  const data = getData() || {};\n  const settings = data.settings || {};\n  const {\n    username = \"Username\",\n    description = \"A short description\",\n    obsidianStartDate = \"\",\n    avatarType = \"url\",\n    avatarUrl = \"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=300\",\n    avatarFile = \"\",\n    showRadarChart = true,\n    radarChartMaxValues = {\n      mdFiles: 1000,\n      attachments: 500,\n      tags: 100,\n      properties: 50,\n      folders: 100,\n      linkDensity: 10,\n      activity: 50, // æœ€è¿‘7å¤©ä¿®æ”¹çš„æ–‡ä»¶æ•°\n      taskCompletion: 100, // ä»»åŠ¡å®Œæˆç‡ç™¾åˆ†æ¯”\n    },\n    updateInterval = 30000,\n  } = settings;\n\n  const handleSave = (key, value) => {\n    saveData({\n      ...data,\n      settings: {\n        ...settings,\n        [key]: value,\n      },\n    });\n  };\n\n  const handleRadarMaxValueSave = (dimension, value) => {\n    let processedValue;\n\n    if (value === \"\" || value === null || value === undefined) {\n      // å¦‚æœæ˜¯ç©ºå€¼ï¼Œä¿æŒä¸ºç©ºå­—ç¬¦ä¸²ï¼Œä¸è½¬æ¢ä¸ºæ•°å­—\n      processedValue = \"\";\n    } else {\n      const numValue = Number(value);\n      // åªæœ‰å½“è½¬æ¢ç»“æœæ˜¯æœ‰æ•ˆæ•°å­—ä¸”ä¸æ˜¯ NaN æ—¶æ‰ä½¿ç”¨æ•°å­—å€¼\n      processedValue =\n        !isNaN(numValue) && isFinite(numValue) ? numValue : value;\n    }\n\n    const newMaxValues = {\n      ...radarChartMaxValues,\n      [dimension]: processedValue,\n    };\n    handleSave(\"radarChartMaxValues\", newMaxValues);\n  };\n\n  return (\n    <Settings>\n      <SettingTitle>ä¸ªäººä¸»é¡µè®¾ç½®</SettingTitle>\n\n      <SettingInput\n        label=\"ç”¨æˆ·å\"\n        type=\"text\"\n        value={username}\n        onChange={(e) => handleSave(\"username\", e.target.value)}\n        placeholder=\"è¯·è¾“å…¥ç”¨æˆ·å\"\n      />\n\n      <SettingItem label=\"ä¸ªäººæè¿°\">\n        <textarea\n          className=\"user-profile-form--textarea\"\n          value={description}\n          onChange={(e) => handleSave(\"description\", e.target.value)}\n          placeholder=\"è¯·è¾“å…¥ç®€çŸ­ä»‹ç»\"\n          rows={3}\n        />\n      </SettingItem>\n\n      <SettingInput\n        label=\"Obsidian ä½¿ç”¨å¼€å§‹æ—¥æœŸ\"\n        type=\"date\"\n        value={obsidianStartDate}\n        max=\"9999-12-31\"\n        onChange={(e) => handleSave(\"obsidianStartDate\", e.target.value)}\n      />\n\n      <SettingDivider />\n\n      <SettingSelect\n        label=\"å¤´åƒç±»å‹\"\n        value={avatarType}\n        onChange={(value) => handleSave(\"avatarType\", value)}\n        options={[\n          { label: \"å›¾ç‰‡é“¾æ¥\", value: \"url\" },\n          { label: \"æœ¬åœ°å›¾ç‰‡\", value: \"file\" },\n        ]}\n      />\n\n      {avatarType === \"url\" ? (\n        <SettingInput\n          label=\"å¤´åƒé“¾æ¥\"\n          type=\"text\"\n          value={avatarUrl}\n          onChange={(e) => handleSave(\"avatarUrl\", e.target.value)}\n          placeholder=\"https://example.com/avatar.png\"\n        />\n      ) : (\n        <FileSettingAutocomplete\n          label=\"å¤´åƒæ–‡ä»¶\"\n          value={avatarFile}\n          onChange={(value) => handleSave(\"avatarFile\", value)}\n          filter={(file) =>\n            [\"png\", \"jpg\", \"jpeg\", \"gif\", \"svg\"].includes(file.extension)\n          }\n          placeholder=\"ä»åº“ä¸­é€‰æ‹©ä¸€å¼ å›¾ç‰‡\"\n        />\n      )}\n\n      <SettingDivider />\n\n      <SettingTitle>åº“ç»Ÿè®¡ä¿¡æ¯</SettingTitle>\n\n      <SettingSwitch\n        label=\"æ˜¾ç¤ºé›·è¾¾å›¾\"\n        value={showRadarChart}\n        onChange={(value) => handleSave(\"showRadarChart\", value)}\n      />\n\n      {showRadarChart && (\n        <>\n          <SettingSelect\n            label=\"æ›´æ–°é—´éš”\"\n            value={updateInterval.toString()}\n            onChange={(value) => handleSave(\"updateInterval\", Number(value))}\n            options={[\n              { label: \"10ç§’\", value: \"10000\" },\n              { label: \"30ç§’\", value: \"30000\" },\n              { label: \"1åˆ†é’Ÿ\", value: \"60000\" },\n              { label: \"5åˆ†é’Ÿ\", value: \"300000\" },\n            ]}\n          />\n\n          <SettingDescription>é…ç½®é›·è¾¾å›¾å„ç»´åº¦çš„æœ€å¤§å€¼</SettingDescription>\n\n          <SettingInput\n            label=\"æœ€å¤§ç¬”è®°æ–‡ä»¶æ•°\"\n            type=\"number\"\n            value={radarChartMaxValues.mdFiles}\n            onChange={(e) => handleRadarMaxValueSave(\"mdFiles\", e.target.value)}\n            placeholder=\"1000\"\n          />\n\n          <SettingInput\n            label=\"æœ€å¤§é™„ä»¶æ•°\"\n            type=\"number\"\n            value={radarChartMaxValues.attachments}\n            onChange={(e) =>\n              handleRadarMaxValueSave(\"attachments\", e.target.value)\n            }\n            placeholder=\"500\"\n          />\n\n          <SettingInput\n            label=\"æœ€å¤§æ ‡ç­¾æ•°\"\n            type=\"number\"\n            value={radarChartMaxValues.tags}\n            onChange={(e) => handleRadarMaxValueSave(\"tags\", e.target.value)}\n            placeholder=\"100\"\n          />\n\n          <SettingInput\n            label=\"æœ€å¤§å±æ€§æ•°\"\n            type=\"number\"\n            value={radarChartMaxValues.properties}\n            onChange={(e) =>\n              handleRadarMaxValueSave(\"properties\", e.target.value)\n            }\n            placeholder=\"50\"\n          />\n\n          <SettingInput\n            label=\"æœ€å¤§æ–‡ä»¶å¤¹æ•°\"\n            type=\"number\"\n            value={radarChartMaxValues.folders}\n            onChange={(e) => handleRadarMaxValueSave(\"folders\", e.target.value)}\n            placeholder=\"100\"\n          />\n\n          <SettingInput\n            label=\"æœ€å¤§é“¾æ¥å¯†åº¦\"\n            type=\"number\"\n            value={radarChartMaxValues.linkDensity}\n            onChange={(e) =>\n              handleRadarMaxValueSave(\"linkDensity\", e.target.value)\n            }\n            placeholder=\"10\"\n          />\n\n          <SettingInput\n            label=\"æœ€å¤§æ´»è·ƒåº¦ (7å¤©)\"\n            type=\"number\"\n            value={radarChartMaxValues.activity}\n            onChange={(e) =>\n              handleRadarMaxValueSave(\"activity\", e.target.value)\n            }\n            placeholder=\"20\"\n          />\n\n          <SettingInput\n            label=\"æœ€å¤§ä»»åŠ¡å®Œæˆç‡ (%)\"\n            type=\"number\"\n            value={radarChartMaxValues.taskCompletion}\n            onChange={(e) =>\n              handleRadarMaxValueSave(\"taskCompletion\", e.target.value)\n            }\n            placeholder=\"100\"\n          />\n        </>\n      )}\n    </Settings>\n  );\n}\n",
      "cssCode": "/* Morandi-inspired color palette using Obsidian CSS variables */\n:root {\n  --user-profile-bg: var(--background-primary);\n  --user-profile-text-primary: var(--text-normal);\n  --user-profile-text-secondary: var(--text-muted);\n  --user-profile-avatar-border: var(--background-modifier-border);\n  --user-profile-radar-bg: var(--background-secondary);\n  --user-profile-stat-highlight: var(--interactive-accent);\n}\n\n.user-profile--container {\n  display: flex;\n  flex-direction: column;\n  padding: 1rem 0.5rem;\n  background-color: var(--user-profile-bg);\n  border-radius: var(--radius-l);\n  width: 100%;\n  box-sizing: border-box;\n  gap: 12px;\n  container-type: inline-size;\n}\n\n.user-profile--header {\n  display: flex;\n  align-items: flex-start;\n  gap: 16px;\n}\n\n.user-profile--avatar {\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  object-fit: cover;\n  border: 2px solid var(--user-profile-avatar-border);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  transition: transform 0.3s ease;\n  flex-shrink: 0;\n}\n\n.user-profile--avatar:hover {\n  transform: scale(1.05);\n}\n\n.user-profile--info {\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n  text-align: left;\n  flex: 1;\n  min-width: 0;\n}\n\n.user-profile--username {\n  font-size: 1.75rem; /* 28px - ä¸€çº§æ ‡é¢˜ï¼Œæœ€çªå‡º */\n  font-weight: 700;\n  color: var(--user-profile-text-primary);\n  margin: 0;\n  line-height: 1.2;\n  letter-spacing: -0.02em;\n}\n\n.user-profile--description {\n  font-size: var(--font-ui-small); /* äºŒçº§ä¿¡æ¯ */\n  color: var(--user-profile-text-secondary);\n  margin: 0;\n  line-height: 1.5;\n  font-weight: 400;\n  white-space: pre-wrap;\n}\n\n/* Statistics Section - ç‹¬ç«‹çš„ç»Ÿè®¡ä¿¡æ¯åŒºåŸŸ */\n.user-profile--stats-section {\n  display: flex;\n  width: 100%;\n  padding: 12px 0;\n}\n\n.user-profile--stats {\n  font-size: var(--font-ui-small); /* ä¸‰çº§ä¿¡æ¯ */\n  color: var(--user-profile-text-secondary);\n  margin: 0;\n  line-height: 1.5;\n  text-align: left;\n  font-weight: 400;\n}\n\n.user-profile--stats .user-profile--stats-highlight {\n  color: var(--interactive-accent);\n  font-weight: 600;\n  font-size: 1.1em; /* çªå‡ºæ•°å­— */\n}\n\n/* Radar Chart Section */\n.user-profile--radar-section {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.user-profile--radar-title {\n  font-size: var(--font-ui-medium);\n  font-weight: 600;\n  color: var(--user-profile-text-primary);\n  margin: 0;\n  text-align: center;\n}\n\n.user-profile--radar-container {\n  width: 100%;\n  height: 260px;\n  background-color: transparent;\n  border-radius: var(--radius-m);\n  overflow: hidden;\n}\n\n.user-profile--radar-chart {\n  width: 100%;\n  height: 100%;\n}\n\n/* Responsive adjustments for smaller containers like sidebars */\n@container (max-width: 200px) {\n  .user-profile--container {\n    padding: 1rem 0.5rem;\n    gap: 12px;\n  }\n\n  .user-profile--header {\n    flex-direction: column;\n    align-items: center;\n    gap: 1rem;\n  }\n\n  .user-profile--info {\n    text-align: center;\n  }\n\n  .user-profile--avatar {\n    width: 64px;\n    height: 64px;\n  }\n\n  .user-profile--username {\n    font-size: 1.5rem; /* å°å±å¹•æ—¶ç¨å¾®å‡å° */\n  }\n\n  .user-profile--stats {\n    font-size: var(--font-ui-x-small);\n  }\n\n  .user-profile--stats-section {\n    padding: 8px 0;\n  }\n\n  .user-profile--radar-container {\n    height: 180px;\n  }\n\n  .user-profile--radar-title {\n    font-size: var(--font-ui-small);\n  }\n}\n\n/* Medium width adjustments */\n@container (max-width: 300px) and (min-width: 201px) {\n  .user-profile--header {\n    gap: 12px;\n  }\n\n  .user-profile--avatar {\n    width: 70px;\n    height: 70px;\n  }\n\n  .user-profile--username {\n    font-size: 1.6rem; /* ä¸­ç­‰å±å¹•é€‚ä¸­å¤§å° */\n  }\n\n  .user-profile--stats-section {\n    padding: 10px 0;\n  }\n\n  .user-profile--radar-container {\n    height: 220px;\n  }\n}\n\n/* Styles for the settings form */\n.user-profile-form--textarea {\n  width: 100%;\n  resize: vertical;\n  background-color: var(--background-secondary);\n  border: 1px solid var(--background-modifier-border);\n  border-radius: var(--radius-s);\n  padding: 8px;\n  color: var(--text-normal);\n  font-family: inherit;\n}\n",
      "viewCompilation": {
        "compiledCode": "function App() {\n  const {\n    getData\n  } = useDataStorage();\n  const app = useObsidianApp();\n  const data = getData() || {};\n  const settings = data.settings || {};\n  const {\n    username = \"Username\",\n    description = \"A short description\",\n    obsidianStartDate = \"\",\n    avatarType = \"url\",\n    avatarUrl = \"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=300\",\n    avatarFile = \"\",\n    showRadarChart = true,\n    radarChartMaxValues = {\n      mdFiles: 1000,\n      attachments: 500,\n      tags: 100,\n      properties: 50,\n      folders: 100,\n      linkDensity: 10,\n      activity: 50,\n      // æœ€è¿‘7å¤©ä¿®æ”¹çš„æ–‡ä»¶æ•°\n      taskCompletion: 100 // ä»»åŠ¡å®Œæˆç‡ç™¾åˆ†æ¯”\n    },\n    updateInterval = 30000 // 30 seconds\n  } = settings;\n\n  // Vault statistics state\n  const [vaultStats, setVaultStats] = useState(null);\n\n  // Get Vault statistics\n  const getVaultStatistics = useCallback(() => {\n    const allFiles = app.vault.getAllLoadedFiles();\n    const mdFiles = allFiles.filter(f => f.extension === 'md');\n    const attachments = allFiles.filter(f => f.extension !== 'md' && !(f instanceof Obsidian.TFolder));\n    const folders = allFiles.filter(f => f instanceof Obsidian.TFolder);\n\n    // Get tags count\n    const tagsCount = Object.keys(app.metadataCache.getTags()).length;\n\n    // Get properties count\n    const propertiesCount = Object.keys(app.metadataCache.getAllPropertyInfos()).length;\n\n    // Calculate link density (total links / md files)\n    let totalLinks = 0;\n    mdFiles.forEach(file => {\n      const cache = app.metadataCache.getFileCache(file);\n      if (cache && cache.links) {\n        totalLinks += cache.links.length;\n      }\n    });\n    const linkDensity = mdFiles.length > 0 ? totalLinks / mdFiles.length : 0;\n\n    // Calculate activity (files modified in last 7 days)\n    const sevenDaysAgo = Date.now() - 7 * 24 * 60 * 60 * 1000;\n    const recentlyModified = mdFiles.filter(file => file.stat.mtime > sevenDaysAgo);\n    const activity = recentlyModified.length;\n\n    // Calculate task completion rate\n    const tasks = Tasks.getTasks() || [];\n    const completedTasks = tasks.filter(task => task.status === 'x' || task.status === 'X');\n    const taskCompletion = tasks.length > 0 ? Math.round(completedTasks.length / tasks.length * 100) : 0;\n    const stats = {\n      mdFiles: mdFiles.length,\n      attachments: attachments.length,\n      tags: tagsCount,\n      properties: propertiesCount,\n      folders: folders.length,\n      linkDensity: Math.round(linkDensity * 10) / 10,\n      // Round to 1 decimal place\n      activity: activity,\n      taskCompletion: taskCompletion\n    };\n    console.log('vault stats', stats);\n    setVaultStats(stats);\n    return stats;\n  }, [app]);\n\n  // Update statistics periodically\n  useEffect(() => {\n    getVaultStatistics();\n  }, [getVaultStatistics]);\n  useInterval(() => {\n    getVaultStatistics();\n  }, updateInterval);\n\n  // Generate radar chart data\n  const radarChartOption = useMemo(() => {\n    if (!vaultStats) return null;\n\n    // Get computed styles for Morandi colors\n    const rootStyles = getComputedStyle(document.documentElement);\n    const isDarkTheme = document.body.classList.contains('theme-dark');\n\n    // Morandi color palette - adapt to theme\n    const colors = isDarkTheme ? {\n      green: '#6B7A68',\n      lightGreen: '#7A8977',\n      paleGreen: '#8B9A88',\n      axis: '#5A6357',\n      split: '#4A5147',\n      label: '#9AA997'\n    } : {\n      green: '#8B9A88',\n      lightGreen: '#A4B3AA',\n      paleGreen: '#B8C5B8',\n      axis: '#D4DDD4',\n      split: '#E8EDE8',\n      label: '#7A8471'\n    };\n    const indicators = [{\n      name: `ç¬”è®°æ–‡ä»¶ (${vaultStats.mdFiles})`,\n      max: radarChartMaxValues.mdFiles\n    }, {\n      name: `é™„ä»¶ (${vaultStats.attachments})`,\n      max: radarChartMaxValues.attachments\n    }, {\n      name: `æ ‡ç­¾ (${vaultStats.tags})`,\n      max: radarChartMaxValues.tags\n    }, {\n      name: `å±æ€§ (${vaultStats.properties})`,\n      max: radarChartMaxValues.properties\n    }, {\n      name: `æ–‡ä»¶å¤¹ (${vaultStats.folders})`,\n      max: radarChartMaxValues.folders\n    }, {\n      name: `é“¾æ¥å¯†åº¦ (${vaultStats.linkDensity})`,\n      max: radarChartMaxValues.linkDensity\n    }, {\n      name: `æ´»è·ƒåº¦ (${vaultStats.activity})`,\n      max: radarChartMaxValues.activity\n    }, {\n      name: `ä»»åŠ¡å®Œæˆç‡ (${vaultStats.taskCompletion}%)`,\n      max: radarChartMaxValues.taskCompletion\n    }];\n\n    // Clamp data to max values to prevent overflow\n    const data = [Math.min(vaultStats.mdFiles, radarChartMaxValues.mdFiles), Math.min(vaultStats.attachments, radarChartMaxValues.attachments), Math.min(vaultStats.tags, radarChartMaxValues.tags), Math.min(vaultStats.properties, radarChartMaxValues.properties), Math.min(vaultStats.folders, radarChartMaxValues.folders), Math.min(vaultStats.linkDensity, radarChartMaxValues.linkDensity), Math.min(vaultStats.activity, radarChartMaxValues.activity), Math.min(vaultStats.taskCompletion, radarChartMaxValues.taskCompletion)];\n    return {\n      radar: {\n        indicator: indicators,\n        radius: '60%',\n        center: ['50%', '52%'],\n        axisName: {\n          color: colors.label,\n          fontSize: 10,\n          fontWeight: 600,\n          formatter: function (name) {\n            // For individual dimension overflow check\n            const isCurrentOverflow = name.includes('ç¬”è®°æ–‡ä»¶') && vaultStats.mdFiles > radarChartMaxValues.mdFiles || name.includes('é™„ä»¶') && vaultStats.attachments > radarChartMaxValues.attachments || name.includes('æ ‡ç­¾') && vaultStats.tags > radarChartMaxValues.tags || name.includes('å±æ€§') && vaultStats.properties > radarChartMaxValues.properties || name.includes('æ–‡ä»¶å¤¹') && vaultStats.folders > radarChartMaxValues.folders || name.includes('é“¾æ¥å¯†åº¦') && vaultStats.linkDensity > radarChartMaxValues.linkDensity;\n            return isCurrentOverflow ? `âš ï¸ ${name}` : name;\n          }\n        },\n        axisLine: {\n          lineStyle: {\n            color: colors.axis\n          }\n        },\n        splitLine: {\n          lineStyle: {\n            color: colors.split\n          }\n        },\n        splitArea: {\n          show: false\n        }\n      },\n      series: [{\n        type: 'radar',\n        symbol: 'circle',\n        symbolSize: 6,\n        data: [{\n          value: data,\n          itemStyle: {\n            color: colors.green\n          },\n          lineStyle: {\n            color: colors.lightGreen,\n            width: 2.5\n          },\n          areaStyle: {\n            color: colors.paleGreen,\n            opacity: 0.3\n          }\n        }]\n      }],\n      tooltip: {\n        trigger: 'item',\n        confine: true,\n        formatter: params => {\n          const names = ['ç¬”è®°æ–‡ä»¶', 'é™„ä»¶', 'æ ‡ç­¾', 'å±æ€§', 'æ–‡ä»¶å¤¹', 'é“¾æ¥å¯†åº¦', 'æ´»è·ƒåº¦', 'ä»»åŠ¡å®Œæˆç‡'];\n          const actualValues = [vaultStats.mdFiles, vaultStats.attachments, vaultStats.tags, vaultStats.properties, vaultStats.folders, vaultStats.linkDensity, vaultStats.activity, vaultStats.taskCompletion];\n          const maxValues = [radarChartMaxValues.mdFiles, radarChartMaxValues.attachments, radarChartMaxValues.tags, radarChartMaxValues.properties, radarChartMaxValues.folders, radarChartMaxValues.linkDensity, radarChartMaxValues.activity, radarChartMaxValues.taskCompletion];\n          return names.map((name, index) => {\n            const actual = actualValues[index];\n            const max = maxValues[index];\n            const displayed = params.value[index];\n            const isOverflow = actual > max;\n            return isOverflow ? `${name}: ${actual} (æœ€å¤§å€¼: ${max}) âš ï¸` : `${name}: ${displayed}`;\n          }).join('<br/>');\n        }\n      }\n    };\n  }, [vaultStats, radarChartMaxValues]);\n  const getAvatarSrc = () => {\n    if (avatarType === 'file' && avatarFile) {\n      const file = app.vault.getAbstractFileByPath(avatarFile);\n      if (file && file instanceof Obsidian.TFile) {\n        return app.vault.getResourcePath(file);\n      }\n    }\n    return avatarUrl;\n  };\n  const renderObsidianStats = () => {\n    if (!obsidianStartDate) return null;\n    const startDate = new Date(obsidianStartDate);\n    const today = new Date();\n    const days = Math.floor((today.getTime() - startDate.getTime()) / (1000 * 60 * 60 * 24));\n    const notesCount = app.vault.getMarkdownFiles().length;\n    const tagsCount = Object.keys(app.metadataCache.getTags()).length;\n    if (days < 0) return null;\n    return /*#__PURE__*/React.createElement(\"p\", {\n      className: \"user-profile--stats\"\n    }, \"\\u8FD9\\u662F\\u4F7F\\u7528 Obsidian \\u7684\\u7B2C \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"user-profile--stats-highlight\"\n    }, days), \" \\u5929\\uFF0C \\u5171\\u521B\\u5EFA\\u4E86 \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"user-profile--stats-highlight\"\n    }, notesCount), \" \\u4E2A\\u7B14\\u8BB0\\uFF0C\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"user-profile--stats-highlight\"\n    }, tagsCount), \" \\u4E2A\\u6807\\u7B7E\");\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-profile--container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-profile--header\"\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: getAvatarSrc(),\n    alt: \"User Avatar\",\n    className: \"user-profile--avatar\"\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-profile--info\"\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"user-profile--username\"\n  }, username), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"user-profile--description\"\n  }, description))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-profile--stats-section\"\n  }, renderObsidianStats()), showRadarChart && vaultStats && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-profile--radar-section\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-profile--radar-container\"\n  }, /*#__PURE__*/React.createElement(EchartsView, {\n    option: radarChartOption,\n    className: \"user-profile--radar-chart\"\n  }))));\n}",
        "success": true
      },
      "settingsCompilation": {
        "compiledCode": "function App() {\n  const {\n    getData,\n    saveData\n  } = useDataStorage();\n  const data = getData() || {};\n  const settings = data.settings || {};\n  const {\n    username = \"Username\",\n    description = \"A short description\",\n    obsidianStartDate = \"\",\n    avatarType = \"url\",\n    avatarUrl = \"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=300\",\n    avatarFile = \"\",\n    showRadarChart = true,\n    radarChartMaxValues = {\n      mdFiles: 1000,\n      attachments: 500,\n      tags: 100,\n      properties: 50,\n      folders: 100,\n      linkDensity: 10,\n      activity: 50,\n      // æœ€è¿‘7å¤©ä¿®æ”¹çš„æ–‡ä»¶æ•°\n      taskCompletion: 100 // ä»»åŠ¡å®Œæˆç‡ç™¾åˆ†æ¯”\n    },\n    updateInterval = 30000\n  } = settings;\n  const handleSave = (key, value) => {\n    saveData({\n      ...data,\n      settings: {\n        ...settings,\n        [key]: value\n      }\n    });\n  };\n  const handleRadarMaxValueSave = (dimension, value) => {\n    let processedValue;\n    if (value === \"\" || value === null || value === undefined) {\n      // å¦‚æœæ˜¯ç©ºå€¼ï¼Œä¿æŒä¸ºç©ºå­—ç¬¦ä¸²ï¼Œä¸è½¬æ¢ä¸ºæ•°å­—\n      processedValue = \"\";\n    } else {\n      const numValue = Number(value);\n      // åªæœ‰å½“è½¬æ¢ç»“æœæ˜¯æœ‰æ•ˆæ•°å­—ä¸”ä¸æ˜¯ NaN æ—¶æ‰ä½¿ç”¨æ•°å­—å€¼\n      processedValue = !isNaN(numValue) && isFinite(numValue) ? numValue : value;\n    }\n    const newMaxValues = {\n      ...radarChartMaxValues,\n      [dimension]: processedValue\n    };\n    handleSave(\"radarChartMaxValues\", newMaxValues);\n  };\n  return /*#__PURE__*/React.createElement(Settings, null, /*#__PURE__*/React.createElement(SettingTitle, null, \"\\u4E2A\\u4EBA\\u4E3B\\u9875\\u8BBE\\u7F6E\"), /*#__PURE__*/React.createElement(SettingInput, {\n    label: \"\\u7528\\u6237\\u540D\",\n    type: \"text\",\n    value: username,\n    onChange: e => handleSave(\"username\", e.target.value),\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u7528\\u6237\\u540D\"\n  }), /*#__PURE__*/React.createElement(SettingItem, {\n    label: \"\\u4E2A\\u4EBA\\u63CF\\u8FF0\"\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"user-profile-form--textarea\",\n    value: description,\n    onChange: e => handleSave(\"description\", e.target.value),\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u7B80\\u77ED\\u4ECB\\u7ECD\",\n    rows: 3\n  })), /*#__PURE__*/React.createElement(SettingInput, {\n    label: \"Obsidian \\u4F7F\\u7528\\u5F00\\u59CB\\u65E5\\u671F\",\n    type: \"date\",\n    value: obsidianStartDate,\n    max: \"9999-12-31\",\n    onChange: e => handleSave(\"obsidianStartDate\", e.target.value)\n  }), /*#__PURE__*/React.createElement(SettingDivider, null), /*#__PURE__*/React.createElement(SettingSelect, {\n    label: \"\\u5934\\u50CF\\u7C7B\\u578B\",\n    value: avatarType,\n    onChange: value => handleSave(\"avatarType\", value),\n    options: [{\n      label: \"å›¾ç‰‡é“¾æ¥\",\n      value: \"url\"\n    }, {\n      label: \"æœ¬åœ°å›¾ç‰‡\",\n      value: \"file\"\n    }]\n  }), avatarType === \"url\" ? /*#__PURE__*/React.createElement(SettingInput, {\n    label: \"\\u5934\\u50CF\\u94FE\\u63A5\",\n    type: \"text\",\n    value: avatarUrl,\n    onChange: e => handleSave(\"avatarUrl\", e.target.value),\n    placeholder: \"https://example.com/avatar.png\"\n  }) : /*#__PURE__*/React.createElement(FileSettingAutocomplete, {\n    label: \"\\u5934\\u50CF\\u6587\\u4EF6\",\n    value: avatarFile,\n    onChange: value => handleSave(\"avatarFile\", value),\n    filter: file => [\"png\", \"jpg\", \"jpeg\", \"gif\", \"svg\"].includes(file.extension),\n    placeholder: \"\\u4ECE\\u5E93\\u4E2D\\u9009\\u62E9\\u4E00\\u5F20\\u56FE\\u7247\"\n  }), /*#__PURE__*/React.createElement(SettingDivider, null), /*#__PURE__*/React.createElement(SettingTitle, null, \"\\u5E93\\u7EDF\\u8BA1\\u4FE1\\u606F\"), /*#__PURE__*/React.createElement(SettingSwitch, {\n    label: \"\\u663E\\u793A\\u96F7\\u8FBE\\u56FE\",\n    value: showRadarChart,\n    onChange: value => handleSave(\"showRadarChart\", value)\n  }), showRadarChart && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SettingSelect, {\n    label: \"\\u66F4\\u65B0\\u95F4\\u9694\",\n    value: updateInterval.toString(),\n    onChange: value => handleSave(\"updateInterval\", Number(value)),\n    options: [{\n      label: \"10ç§’\",\n      value: \"10000\"\n    }, {\n      label: \"30ç§’\",\n      value: \"30000\"\n    }, {\n      label: \"1åˆ†é’Ÿ\",\n      value: \"60000\"\n    }, {\n      label: \"5åˆ†é’Ÿ\",\n      value: \"300000\"\n    }]\n  }), /*#__PURE__*/React.createElement(SettingDescription, null, \"\\u914D\\u7F6E\\u96F7\\u8FBE\\u56FE\\u5404\\u7EF4\\u5EA6\\u7684\\u6700\\u5927\\u503C\"), /*#__PURE__*/React.createElement(SettingInput, {\n    label: \"\\u6700\\u5927\\u7B14\\u8BB0\\u6587\\u4EF6\\u6570\",\n    type: \"number\",\n    value: radarChartMaxValues.mdFiles,\n    onChange: e => handleRadarMaxValueSave(\"mdFiles\", e.target.value),\n    placeholder: \"1000\"\n  }), /*#__PURE__*/React.createElement(SettingInput, {\n    label: \"\\u6700\\u5927\\u9644\\u4EF6\\u6570\",\n    type: \"number\",\n    value: radarChartMaxValues.attachments,\n    onChange: e => handleRadarMaxValueSave(\"attachments\", e.target.value),\n    placeholder: \"500\"\n  }), /*#__PURE__*/React.createElement(SettingInput, {\n    label: \"\\u6700\\u5927\\u6807\\u7B7E\\u6570\",\n    type: \"number\",\n    value: radarChartMaxValues.tags,\n    onChange: e => handleRadarMaxValueSave(\"tags\", e.target.value),\n    placeholder: \"100\"\n  }), /*#__PURE__*/React.createElement(SettingInput, {\n    label: \"\\u6700\\u5927\\u5C5E\\u6027\\u6570\",\n    type: \"number\",\n    value: radarChartMaxValues.properties,\n    onChange: e => handleRadarMaxValueSave(\"properties\", e.target.value),\n    placeholder: \"50\"\n  }), /*#__PURE__*/React.createElement(SettingInput, {\n    label: \"\\u6700\\u5927\\u6587\\u4EF6\\u5939\\u6570\",\n    type: \"number\",\n    value: radarChartMaxValues.folders,\n    onChange: e => handleRadarMaxValueSave(\"folders\", e.target.value),\n    placeholder: \"100\"\n  }), /*#__PURE__*/React.createElement(SettingInput, {\n    label: \"\\u6700\\u5927\\u94FE\\u63A5\\u5BC6\\u5EA6\",\n    type: \"number\",\n    value: radarChartMaxValues.linkDensity,\n    onChange: e => handleRadarMaxValueSave(\"linkDensity\", e.target.value),\n    placeholder: \"10\"\n  }), /*#__PURE__*/React.createElement(SettingInput, {\n    label: \"\\u6700\\u5927\\u6D3B\\u8DC3\\u5EA6 (7\\u5929)\",\n    type: \"number\",\n    value: radarChartMaxValues.activity,\n    onChange: e => handleRadarMaxValueSave(\"activity\", e.target.value),\n    placeholder: \"20\"\n  }), /*#__PURE__*/React.createElement(SettingInput, {\n    label: \"\\u6700\\u5927\\u4EFB\\u52A1\\u5B8C\\u6210\\u7387 (%)\",\n    type: \"number\",\n    value: radarChartMaxValues.taskCompletion,\n    onChange: e => handleRadarMaxValueSave(\"taskCompletion\", e.target.value),\n    placeholder: \"100\"\n  })));\n}",
        "success": true
      },
      "data": {
        "cartItems": [
          {
            "id": "pro",
            "name": "Pro Subscription",
            "price": 9.99
          },
          {
            "id": "stickers",
            "name": "Sticker Pack",
            "price": 3.49
          },
          {
            "id": "brushes",
            "name": "Sketch Brushes",
            "price": 4.99
          }
        ],
        "settings": {
          "avatarType": "file",
          "avatarFile": "assets/images/molj.jpeg",
          "username": "Vran",
          "description": "ğŸŒ§ï¸ æ‘¸é±¼ä¸è¢«å‘ç°\nğŸ’ª åŠªåŠ›è¦è¢«çœ‹è§",
          "obsidianStartDate": "2023-12-05",
          "birthday": "1990-01-01",
          "avatarUrl": "",
          "showRadarChart": true,
          "radarChartMaxValues": {
            "mdFiles": 10000,
            "attachments": 1000,
            "tags": 20,
            "properties": 80,
            "folders": 100,
            "linkDensity": 1,
            "activity": 50,
            "taskCompletion": 100
          }
        }
      }
    }
  ],
  "rootComponentId": "7f7841c8-5ccb-4c80-a0bc-660945aef74d",
  "modified": 1761465580243,
  "version": 3,
  "icon": "Smile"
}